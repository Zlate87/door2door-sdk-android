sudo: false
language: android
jdk:
  - oraclejdk8
android:
  components:
  - tools # to get the new `repository-11.xml`
  - tools # to install Android SDK tools 25.1.x
  - platform-tools
  - build-tools-24.0.3
  - android-24
  - extra-google-google_play_services
  - extra-google-m2repository
  - extra-android-m2repository
  - addon-google_apis-google-24
  - extra-android-support
  - add-on
  - extra
branches:
  only:
  - master
  - develop
  - /^release/.*$/
  - /^hotfix/.*$/
script: "./gradlew ciBuild"
before_cache:
  - rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
notifications:
  email: false
  slack:
    rooms:
      secure: uEjmjRHKVDRylYCoPrLebunzBbI55Z5bxF4ND7nSO0JaafTfWMNhsiGnyObjgcA1Avuvs0vQ57zXlio/eXQF4/KEKkVESRl63nvA22Y0bTaE6iWMv7I/N2mmFdOAswTqyZrEvqys8MrskINBaBCncxsx7xsnmM5eV1nTX17ZIcOIRVokytLsDy5jyLqckfZ4eFSvS/YC+MSG8G/8Hc4V7T8ZwgcbMrqKUsd5bYiJW18hxsgHIa6QoksanCpJBk+RZaMTDBI5XmeDW+CYKOfz6HyX+MpuO4ytUfqCVGgpR1xAqjt0nEXAmTbmJ5GN3eJM322dIR9Xpd8C7P+FxYmHtPGZ/a5zUU5QA3WugRgpve8b2m9ORsbtXeO4R8aPG2k+80yAb0m8Z0CK6D/blPbI9WMI+XB0gUylNzKOVquSmoe4Xke70BCXFIkCgxt01oqH5ExF3g5Kft0gc0LDTQDqBNUKHH/9YgJH3m6hervg/ol2BVXyPdhVVNfqMUGl4cUV8uIySkRzrOkkAvGrxEBib/upDeBKNejA9ArpLK50Eb9jLrXZuhUFPkSsSKIT1Nfu/LLoXjUEXBDtSLMgcxcharUb7GsRxCunNM8dHPIz3YVwSLCzTxHGdnQj4PDhsoSV31JPHWmPvoRJ6DmpmN0WtlG49pys148Kr+Q0XCw9bcA=
after_failure: "cat /home/travis/build/door2door-io/mobile-analytics-android/lib/build/outputs/lint-results-debug.xml"